<div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

        <h1 class="page-header">
            Airtime Topup Report
            <small>View a summary of your airtime transactions</small>
        </h1>

    </div>
</div>


<div>

    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><span
                class="glyphicon glyphicon-list-alt"></span> Table</a></li>
        <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"><span
                class="glyphicon glyphicon-equalizer"></span> Chart</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <report-box (update)="search_report=$event"></report-box>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <!--<date-search (update)="search_report=$event"></date-search>-->
                <input class="form-control" type="text" name="daterange"/>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane fade in active" id="profile">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="panel panel-default table-responsive">
                        <table class="table table-bordered table-hover table-striped">
                            <thead>
                            <tr>
                                <th class="orderable phone_number">Number</th>
                                <th class="amount orderable">Credit Amount</th>
                                <th class="orderable status">status</th>
                                <th class="names orderable">Names</th>
                                <th class="orderable request_id">request id</th>
                                <th class="desc orderable updated_at">Update Date</th>
                            </tr>
                            </thead>
                            <!--<tbody *ngFor="#report_list of airtime_reports">-->

                            <tr *ngFor="let report of airtime_reports | search: search_report">
                                <td>
                                    {{report.phone_number}}
                                </td>
                                <td>
                                    {{report.amount}}
                                </td>
                                <td>
                                    {{report.status}}
                                </td>
                                <td>
                                    {{report.names}}
                                </td>
                                <td>
                                    {{report.request_id}}
                                </td>
                                <td>
                                    {{report.updated_at|formatDate}}
                                </td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3">
                    <p><b>{{counts}} Recipients</b></p>
                </div>

                <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                    <a class="btn btn-success btn-sm" *ngIf="previous"
                       (click)="populate_page(previous)">Previous</a>
                    <small *ngIf="next || previous"><b>{{airtime_reports.length}} of {{counts}}</b></small>
                    <a class="btn btn-success btn-sm" *ngIf="next" (click)="populate_page(next)">Next</a>
                </div>

                <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3">
                    <a class="btn btn-sm" (click)="download_airtime_report($event)"><img alt="
                    download report" src="/static/img/csv_icon.png"
                                                                                         title="Download CSV Report"/></a>
                </div>
            </div>
            <hr>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="messages">
            <div class="panel">
                <div class="panel-body">
                    <div id="chartContainer" style="width:1000px; height:600px;"></div>
                </div>
            </div>
        </div>
    </div>

</div>